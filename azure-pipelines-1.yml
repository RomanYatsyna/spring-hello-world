pool:
  vmImage: ubuntu-latest

parameters:
- name: runStageA
  displayName: Run Stage A
  type: boolean
  default: true
- name: runStageB
  displayName: Run Stage B
  type: boolean
  default: true
- name: runStageC
  displayName: Run Stage C
  type: boolean
  default: true

stages:
- stage: A
  displayName: Stage A
  jobs:
  - job: JobA
    steps:
    - bash: echo "Job A"

- stage: B
  displayName: Stage B
  dependsOn:
  - A
  jobs:
  - job: JobB
    steps:
    - bash: echo "Job B"

- stage: C
  displayName: Stage C
  dependsOn:
  - B
  jobs:
  - job: JobC
    steps:
    - bash: echo "Job C"